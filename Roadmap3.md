# План 3

- [x] R1. Разделить разные DAO в отдельные классы/пакеты

- [x] R2. Логгирование 
	- [x] R2.1. Создать файл aaa.log 
	- [x] R2.2. Создать класс Log
	- [x] R2.3. Добавить библиотеку Log4j в папку lib
	- [x] R2.4. В классе log реализовать добавление информации в файл aaa.log о причине возникновении ошибки через библиотеку

- [x] R3. Встраиваемое СУБД
	- [x] R3.1. Установить встраиваемое субд (H2)
	- [x] R3.2. Создать таблицы в БД:
		- customer полями: login, pass, salt
		- role с полями: id, role, login_customer
		- resource с полями: id, resource, data_start (NULL), data_end (NULL), value (NULL), id_role
	- [x] R3.3. Адаптировать логику под новую бд (PreparedStatement)

- [ ] R4. Миграции
	- [ ] R4.1. Добавить библиотеку flywaydb
	- [ ] R4.2. Cоздать папку migrations, добавить в эту папку файл с инициализацией схемы по структуре R3.2 через flywaydb
	- [ ] R4.3. Добавить проверку на существования схемы БД
	- [ ] R4.4. Cоздать миграции с тестовыми данными в папке migrations

## Исследовательская работа

### Технология встраиваемого СУБД (H2)
1. Вопросы

	a. Что такое встраиваемое СУБД?
	- СУБД — архитектура систем управления базами данных, когда СУБД тесно связана с прикладной программой и работает на том же компьютере, не требуя профессионального администрирования.

	b. Что такое DDL?
	- DDL –язык описания данных

	c.	Что такое DML/CRUD?
	- Язык манипулирования данными, который содержит следующие конструкции:
		- SELECT – выборка данных
		- INSERT – вставка новых данных
		- UPDATE – обновление данных
		- DELETE – удаление данных
		- MERGE – слияние данных

2. Через интернет буду искать информацию о исследуемой технологии.
3. Удобное техническое решение по хранению и работе с данными.

Задачи:
- [x] RB1.	подключение к бд
- [x] RB2.	создание бд
- [x] RB3.	выполнение DDL запросов
- [x] RB4.	выполнение DML/CRUD запросов


### Технология инициализации схемы через flywaydb
1. Вопросы

	a. Что такое миграция?
	- Миграция — это файл, который содержит описание создания в БД таблиц и полей.

	b. Что такое flywaydb?
	- Flyway — это инструмент для запуска набора скриптов миграции для вашей БД

2. Через интернет буду искать информацию о исследуемой технологии.
3. Удобное техническое решение по обеспечению версионности схем и управления миграциями БД 

Задачи:
- [x] RF1. Добавить библиотеку flywaydb
- [ ] RF2. Настроить библиотеку flywaydb
- [x] RF3. Добавить папку migrations с файлом V1__Init_DB.sql
- [x] RF4. Добавить код миграции в файл V1__Init_DB для миграции бд


### Технология инициализации инициализация логирования на сайте (Log4j)
1. Вопросы
	
    a. Что такое логирование? 
    - Логирование — это запись куда-то данных о работе программы.

	b. Для чего нужен Log4j?
	- log4j — это надежная, быстрая и гибкая среда ведения журналов (API)

	c. Для чего применяют логированием?
	- Оно позволяет ответить на вопросы, что происходило, когда и при каких обстоятельствах.

2. Через интернет буду искать информацию о исследуемой технологии.
3. Удобное техническое решение по работе с логами.

Задачи:
- [x] RL1. Добавить библиотеку Log4j
- [x] RL2. Выполнить регистратор
- [x] RL3. Выполнить appenders 
- [x] RL4. Выполнить макеты



